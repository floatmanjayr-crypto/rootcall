<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Welcome to RootCall!</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--green:#0d3d2f;--ivory:#f9f6f3}
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:Inter,sans-serif;background:linear-gradient(135deg,var(--green) 0%,#124b39 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;color:white;text-align:center;padding:20px}
    .container{max-width:600px}
    h1{font-size:3rem;margin-bottom:20px;font-weight:800}
    .tagline{
      font-size:0.9rem;
      color:rgba(255,255,255,0.9);
      text-transform:uppercase;
      letter-spacing:3px;
      font-weight:700;
      margin-bottom:30px;
      background:rgba(255,255,255,0.15);
      padding:10px 20px;
      border-radius:25px;
      display:inline-block;
      border:1px solid rgba(255,255,255,0.3);
    }
    p{font-size:1.2rem;margin-bottom:30px;opacity:0.9;line-height:1.6}
    .spinner{border:4px solid rgba(255,255,255,0.3);border-top:4px solid white;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin:30px auto}
    @keyframes spin{to{transform:rotate(360deg)}}
    .btn{
      background:white;
      color:var(--green);
      padding:16px 45px;
      border-radius:50px;
      font-weight:700;
      text-decoration:none;
      display:inline-block;
      margin:10px;
      transition:all 0.3s;
      box-shadow:0 4px 15px rgba(0,0,0,0.2);
      font-size:1.05rem;
    }
    .btn:hover{
      transform:translateY(-3px);
      box-shadow:0 8px 25px rgba(0,0,0,0.3);
      background:#f9f6f3;
    }
    .btn-primary{
      background:linear-gradient(135deg,#4ade80,#22c55e);
      color:white;
    }
    .btn-primary:hover{
      background:linear-gradient(135deg,#22c55e,#16a34a);
    }
    .details{
      background:rgba(255,255,255,0.1);
      padding:25px;
      border-radius:16px;
      margin:30px 0;
      font-size:1rem;
      backdrop-filter:blur(10px);
      border:1px solid rgba(255,255,255,0.2);
    }
    .status-box{
      background:rgba(255,255,255,0.15);
      padding:16px 20px;
      border-radius:10px;
      margin:12px 0;
      text-align:left;
      transition:all 0.3s;
      border-left:4px solid rgba(255,255,255,0.3);
      font-size:1rem;
    }
    .status-box.complete{
      border-left-color:#4ade80;
      background:rgba(74,222,128,0.2);
    }
    .status-box.complete:before{
      content:"‚úì ";
      color:#4ade80;
      font-weight:bold;
      font-size:1.3rem;
      margin-right:10px;
    }
    .success-message{
      background:rgba(74,222,128,0.2);
      border:2px solid #4ade80;
      padding:20px;
      border-radius:12px;
      margin:20px 0;
    }
    .next-steps{
      text-align:left;
      line-height:1.8;
    }
    .next-steps strong{
      color:#4ade80;
      font-size:1.1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Welcome to RootCall!</h1>
    <div class="tagline">AI Scam Call Shield</div>
    
    <p id="status">Setting up your AI-powered scam protection...</p>
    
    <div class="details">
      <div id="step1" class="status-box">Verifying payment...</div>
      <div id="step2" class="status-box">Creating your account...</div>
      <div id="step3" class="status-box">Configuring AI screening engine...</div>
      <div id="step4" class="status-box">Finalizing setup...</div>
    </div>
    
    <div class="spinner" id="spinner"></div>
    
    <div id="success-details" style="display:none">
      <div class="success-message">
        <p style="font-size:1.3rem;margin:0">
          <strong>üéâ Success!</strong><br>
          Your RootCall protection is now active!
        </p>
      </div>
      
      <div class="details next-steps">
        <strong>üìã Next Steps:</strong><br><br>
        1Ô∏è‚É£ Sign in to your dashboard<br>
        2Ô∏è‚É£ Get your AI-protected phone number<br>
        3Ô∏è‚É£ Add trusted contacts who can reach you<br>
        4Ô∏è‚É£ Start blocking scams automatically!
      </div>
    </div>
    
    <div id="actions" style="display:none">
      <a href="/static/client-portal.html" class="btn btn-primary">
        <strong>üöÄ Go to Dashboard</strong>
      </a>
      <a href="/static/login.html" class="btn">
        <strong>üîê Sign In</strong>
      </a>
    </div>
  </div>
  
  <script>
    const API = 'https://rootcall.onrender.com';
    
    async function simulateProvisioning() {
      const steps = ['step1', 'step2', 'step3', 'step4'];
      
      for (let i = 0; i < steps.length; i++) {
        await new Promise(resolve => setTimeout(resolve, 1800));
        document.getElementById(steps[i]).classList.add('complete');
      }
      
      await new Promise(resolve => setTimeout(resolve, 500));
      
      document.getElementById('status').textContent = '‚úÖ Your RootCall account is ready!';
      document.getElementById('spinner').style.display = 'none';
      document.getElementById('success-details').style.display = 'block';
      
      await new Promise(resolve => setTimeout(resolve, 500));
      document.getElementById('actions').style.display = 'block';
    }
    
    // Check if user is logged in
    const user = localStorage.getItem('user');
    const token = localStorage.getItem('access_token') || localStorage.getItem('token');
    
    if (user || token) {
      simulateProvisioning();
    } else {
      document.getElementById('status').textContent = 'Please sign in to continue';
      document.getElementById('spinner').style.display = 'none';
      document.getElementById('actions').style.display = 'block';
    }
  </script>
</body>
</html>