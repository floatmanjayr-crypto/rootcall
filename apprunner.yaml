version: 1.0
runtime: python311

build:
  commands:
    pre-build:
      - echo "Installing dependencies from backend folder..."
      - cd backend && pip install -r requirements.txt --target .
    build:
      - echo "Build step completed"

run:
  runtime-version: 3.11
  working-directory: /app/backend
  command: uvicorn main:app --host 0.0.0.0 --port $PORT
  network:
    port: "8000"
    env: PORT
